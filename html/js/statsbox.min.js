import{makeTd as h}from"./utils.min.js";class t{#t;#i={};#h={};constructor(t,s={}){t.replaceChildren(),this.#t=t;for(const i in s)this.set(i,s[i])}has(t){return t in this.#i}set(t,s){this.#i[t]=s,this.#o(t)}inc(t){this.has(t)||this.set(t,0),this.#i[t]++,this.#o(t)}#o(t){var s;t in this.#h?this.#h[t].textContent=this.#i[t]:((s=document.createElement("tr")).append(h(t),this.#h[t]=h(""+this.#i[t])),s.children[0].removeAttribute("title"),s.children[1].removeAttribute("title"),this.#t.append(s))}}class i{#u;key;#l;tr;constructor(t,s){this.key=t,this.#l=document.createElement("td");var i=document.createElement("tr");i.append(h(t),this.#l),i.children[0].removeAttribute("title"),this.tr=i,this.value=s}set value(t){this.#l.textContent=this.#u=t}get value(){return this.#u}}class s{#t;#i={};#h=[];constructor(t,s={}){t.replaceChildren(),this.#t=t;for(const i in s)this.set(i,s[i])}has(t){return t in this.#i}set(t,s){this.has(t)?this.#h[this.#i[t]].value=s:(s=new i(t,s),this.#t.append(s.tr),this.#i[t]=this.#h.length,this.#h.push(s))}inc(s){if(this.has(s)){var i=this.#i[s],h=this.#h[i],r=(h.value++,h.value);let t=i;for(;0<t&&r>this.#h[t-1].value;)t--;if(t!=i)for(this.#h[t].tr.before(h.tr),this.#h.splice(i,1),this.#h.splice(t,0,h);t<=i;)this.#i[this.#h[t].key]=t++}else this.set(s,1)}}export{t as StatsBox,s as SortedStatsBox};
