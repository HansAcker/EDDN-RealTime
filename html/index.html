<!DOCTYPE html>
<html lang="en">
<meta charset="UTF-8">
<link rel="icon" sizes="any" href="img/activity-icon/activity-icon--state-off.svg" id="icon">
<link rel="preload" href="fonts/orbitron/orbitron-light-webfont.woff" as="font" type="font/woff" crossorigin>
<link rel="stylesheet" href="css/style.css">

<!-- https://github.com/HansAcker/EDDN-RealTime -->
<title>Elite Dangerous Data Network Real Time Feed</title>
<meta name="description" content="Live Events from the Elite Dangerous Data Network">
<meta name="viewport" content="width=device-width, initial-scale=1">

<div id="board" class="dashboard">

<div class="dashboard__table narrow dashboard__module--jumps" role="table" aria-labelledby="dashboard__table--caption-jumps">
	<div class="dashboard__table--caption" role="caption" id="dashboard__table--caption-jumps">FSD Jumps</div>
	<div class="dashboard__table--thead" role="row"><div class="dashboard__table--cell" role="columnheader">FSD Jump</div></div>
	<div class="dashboard__table--tbody" role="rowgroup"></div>
</div>

<div class="dashboard__table wide dashboard__module--routes" role="table" aria-labelledby="dashboard__table--caption-routes">
	<div class="dashboard__table--caption" role="caption" id="dashboard__table--caption-routes">Routes Plotted</div>
	<div class="dashboard__table--thead" role="row">
		<div class="dashboard__table--cell" role="columnheader">Route From</div>
		<div class="dashboard__table--cell" role="columnheader">To</div>
		<div class="dashboard__table--cell" role="columnheader">Jumps</div>
		<div class="dashboard__table--cell" role="columnheader">Distance</div>
		<div class="dashboard__table--cell" role="columnheader">Total</div>
		<div class="dashboard__table--cell" role="columnheader">Max</div>
	</div>
	<div class="dashboard__table--tbody" role="rowgroup"></div>
</div>

<div class="dashboard__table narrow dashboard__module--newstars" role="table" aria-labelledby="dashboard__table--caption-newstars">
	<div class="dashboard__table--caption" role="caption" id="dashboard__table--caption-newstars">Stars discovered</div>
	<div class="dashboard__table--thead" role="row">
		<div class="dashboard__table--cell" role="columnheader">Discovered Star</div>
		<div class="dashboard__table--cell" role="columnheader">Class</div>
	</div>
	<div class="dashboard__table--tbody" role="rowgroup"></div>
</div>

<div class="dashboard__table wide dashboard__module--newplanets" role="table" aria-labelledby="dashboard__table--caption-newplanets">
	<div class="dashboard__table--caption" role="caption" id="dashboard__table--caption-newplanets">Planets discovered</div>
	<div class="dashboard__table--thead" role="row">
		<div class="dashboard__table--cell" role="columnheader">Discovered Body</div>
		<div class="dashboard__table--cell" role="columnheader">Class</div>
		<div class="dashboard__table--cell" role="columnheader">Atmosphere</div>
		<div class="dashboard__table--cell" role="columnheader">Landable</div>
	</div>
	<div class="dashboard__table--tbody" role="rowgroup"></div>
</div>

<div class="dashboard__table dashboard__module--scanbods" role="table" aria-labelledby="dashboard__table--caption-scanbods">
	<div class="dashboard__table--caption" role="caption" id="dashboard__table--caption-scanbods">Scanned Bodies</div>
	<div class="dashboard__table--thead" role="row">
		<div class="dashboard__table--cell" role="columnheader">Scanned Body</div>
		<div class="dashboard__table--cell" role="columnheader">Scan Type</div>
	</div>
	<div class="dashboard__table--tbody" role="rowgroup"></div>
</div>

<div class="dashboard__table dashboard__module--asett" role="table" aria-labelledby="dashboard__table--caption-asett">
	<div class="dashboard__table--caption" role="caption" id="dashboard__table--caption-asett">Settlement Approach</div>
	<div class="dashboard__table--thead" role="row">
		<div class="dashboard__table--cell" role="columnheader">Settlement Approach</div>
		<div class="dashboard__table--cell" role="columnheader">System</div>
	</div>
	<div class="dashboard__table--tbody" role="rowgroup"></div>
</div>

<div class="dashboard__table dashboard__module--locations" role="table" aria-labelledby="dashboard__table--caption-locations">
	<div class="dashboard__table--caption" role="caption" id="dashboard__table--caption-locations">Docking and Locations</div>
	<div class="dashboard__table--thead" role="row">
		<div class="dashboard__table--cell" role="columnheader">Docked At</div>
		<div class="dashboard__table--cell" role="columnheader">Type</div>
		<div class="dashboard__table--cell" role="columnheader">System</div>
	</div>
	<div class="dashboard__table--tbody" role="rowgroup"></div>
</div>

<div class="dashboard__table dashboard__module--updates" role="table" aria-labelledby="dashboard__table--caption-updates">
	<div class="dashboard__table--caption" role="caption" id="dashboard__table--caption-updates">Tables updated</div>
	<div class="dashboard__table--thead" role="row">
		<div class="dashboard__table--cell" role="columnheader">Updated</div>
		<div class="dashboard__table--cell" role="columnheader">Station</div>
		<div class="dashboard__table--cell" role="columnheader">System</div>
	</div>
	<div class="dashboard__table--tbody" role="rowgroup"></div>
</div>

<div class="dashboard__table wider dashboard__module--visits" role="table" aria-labelledby="dashboard__table--caption-visits">
	<div class="dashboard__table--caption" role="caption" id="dashboard__table--caption-visits">Jumps to inhabited systems</div>
	<div class="dashboard__table--thead" role="row">
		<div class="dashboard__table--cell" role="columnheader">System Visited</div>
		<div class="dashboard__table--cell" role="columnheader">Population</div>
		<div class="dashboard__table--cell" role="columnheader">Allegiance</div>
		<div class="dashboard__table--cell" role="columnheader">Faction</div>
		<div class="dashboard__table--cell" role="columnheader">State</div>
	</div>
	<div class="dashboard__table--tbody" role="rowgroup"></div>
</div>

<div class="dashboard__table wider dashboard__module--codex" role="table" aria-labelledby="dashboard__table--caption-codex">
	<div class="dashboard__table--caption" role="caption" id="dashboard__table--caption-codex">Codex Discoveries</div>
	<div class="dashboard__table--thead" role="row">
		<div class="dashboard__table--cell" role="columnheader">System</div>
		<div class="dashboard__table--cell" role="columnheader">Body</div>
		<div class="dashboard__table--cell" role="columnheader">Codex Category</div>
		<div class="dashboard__table--cell" role="columnheader">Type</div>
		<div class="dashboard__table--cell" role="columnheader">Region</div>
	</div>
	<div class="dashboard__table--tbody" role="rowgroup"></div>
</div>


<div class="dashboard__table dashboard__module--stats" role="table" aria-labelledby="dashboard__table--caption-stats">
	<div class="dashboard__table--caption" role="caption" id="dashboard__table--caption-stats">Stats</div>
	<div class="dashboard__table--thead" role="row">
		<div class="dashboard__table--cell" role="columnheader">Stats</div>
		<div class="dashboard__table--cell" role="columnheader">Count</div>
	</div>
	<div class="dashboard__table--tbody" role="rowgroup"></div>
</div>

<div class="dashboard__table dashboard__module--events" role="table" aria-labelledby="dashboard__table--caption-events">
	<div class="dashboard__table--caption" role="caption" id="dashboard__table--caption-events">Event Stats</div>
	<div class="dashboard__table--thead" role="row">
		<div class="dashboard__table--cell" role="columnheader">Event</div>
		<div class="dashboard__table--cell" role="columnheader">Count</div>
	</div>
	<div class="dashboard__table--tbody" role="rowgroup"></div>
</div>

<div class="dashboard__table dashboard__module--softwares" role="table" aria-labelledby="dashboard__table--caption-softwares">
	<div class="dashboard__table--caption" role="caption" id="dashboard__table--caption-softwares">Software Stats</div>
	<div class="dashboard__table--thead" role="row">
		<div class="dashboard__table--cell" role="columnheader">Software</div>
		<div class="dashboard__table--cell" role="columnheader">Count</div>
	</div>
	<div class="dashboard__table--tbody" role="rowgroup"></div>
</div>


<div class="dashboard__table dashboard__module--legend" role="table" aria-labelledby="dashboard__table--caption-legend">
	<div class="dashboard__table--caption" role="caption" id="dashboard__table--caption-legend">Legend</div>
	<div class="dashboard__table--thead" role="row">
		<div class="dashboard__table--cell" role="columnheader">Legend</div>
	</div>
	<div class="dashboard__table--tbody">
		<div class="dashboard__table--row Odyssey" role="row"><div class="dashboard__table--cell">Odyssey</div></div>
		<div class="dashboard__table--row Horizons" role="row"><div class="dashboard__table--cell">Horizons</div></div>
		<div class="dashboard__table--row Legacy" role="row"><div class="dashboard__table--cell">Legacy</div></div>
		<div class="dashboard__table--row Base" role="row"><div class="dashboard__table--cell">A bug (Live but not Horizons)</div></div>
		<div class="dashboard__table--row Unknown" role="row"><div class="dashboard__table--cell">Unknown</div></div>
		<div class="dashboard__table--row Odyssey taxi" role="row"><div class="dashboard__table--cell">Taxi (Apex/Frontline)</div></div>
		<div class="dashboard__table--row Odyssey old" role="row"><div class="dashboard__table--cell">Older than 1h</div></div>
		<div class="dashboard__table--row Odyssey new" role="row"><div class="dashboard__table--cell">In the future</div></div>
	</div>
</div>

</div>


<!-- InfoBox window template -->
<template id="infotemplate">
<div class="infobox" role="dialog">
	<div class="infobox__header" role="toolbar">
		<button class="infobox__button infobox__button--copy-msg" data-infobox__action="copy-msg">Copy message</button>
		<button class="infobox__button infobox__button--copy-gts" data-infobox__action="copy-gts">Copy gateway timestamp</button>
		<button class="infobox__button infobox__button--copy-uid" data-infobox__action="copy-uid">Copy uploader ID</button>
		<button class="infobox__button infobox__button--close" data-infobox__action="close">Close window</button>
	</div>
	<div class="infobox__contentbox">
		<pre class="infobox__content"></pre>
	</div>
</div>
</template>


<script type="importmap">
{
        
	"imports": {
		"ReconnectingWebSocket": "/js/ReconnectingWebSocket.js",
		"GalacticRegions.json": "/js/GalacticRegions.json",
		"EDDNEvent": "/js/EDDNEvent.js",
		"EDDNClient": "/js/EDDNClient.js",
		"DashboardModule": "/js/modules/DashboardModule.js",

		"ui/": "/js/ui/",
		"modules/": "/js/modules/",

		"ajv": "https://esm.sh/ajv",
		"ajv-formats": "https://esm.sh/ajv-formats"
	}
}
</script>

<script>
"use strict";

// set header title attributes
for (const cell of window.board.querySelectorAll(".dashboard__table--thead .dashboard__table--cell")) {
	cell.title = cell.textContent;
}

// fill tables with listLength * empty rows
const listLength = 20;
// TODO: use style?
{
	const tbHTML = '<div class="dashboard__table--row"><div class="dashboard__table--cell">&nbsp;</div></div>'.repeat(listLength);
	for (const tb of window.board.querySelectorAll(".dashboard__table--tbody")) {
		if (!tb.childElementCount) {
			tb.innerHTML = tbHTML;
		}
	}
}
</script>
<script type="module" src="js/main.js"></script>
